<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="./manifest.json">
    <link rel="stylesheet" href="./css/style.css">
    <title>Hello, PWA !!</title>
    <body>
      <div id="offline"></div>
      <div id="online"></div>

      <script>
        // ServiceWorker登録
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register('./sw.js').then(function(registration) {
            console.log('ServiceWorker registration successful with scope: ', registration.scope);
          }).catch(function(err) {
            console.log('ServiceWorker registration failed: ', err);
          });
        }

        // オンライン/オフラインの判定
        function isOnline() {
          return navigator.onLine;
        }

        // 表示内容の切り替え
        function updateDisplay() {
          if (isOnline()) {
            document.getElementById('offline').innerHTML = '';
            document.getElementById('online').innerHTML = 'オンライン';
          } else {
            document.getElementById('online').innerHTML = '';
            document.getElementById('offline').innerHTML = 'オフライン';
          }
        }

        // 初期表示
        updateDisplay();

        // リロードボタンの無効化
        // document.getElementById('reload').disabled = !isOnline();

        // リロードボタン押下時

          if (isOnline()) {
            // オンラインの場合は、通常通りリロード
            window.location.reload();
          } else {
            // オフラインの場合は、キャッシュされたコンテンツを表示
            // キャッシュされたコンテンツの読み込み
            // ...
          }

      </script>
    </body>
  </head>